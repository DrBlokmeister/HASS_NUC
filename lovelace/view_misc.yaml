##########################################  HERE BEGINS THE MISCLLANEOUS TAB  ##########################################
title: Miscellaneous
icon: 'mdi:developer-board'
badges: []
cards:
  # - cards:
  #     - type: custom:mini-graph-card
  #       entities:
  #         - entity: sensor.bed_weight_calibrated
  #           name: HA Calculation
  #           color: '#33ff61'
  #           show_fill: false
  #         - entity: sensor.total_weight
  #           name: ESPHome Calculation
  #           color: '#ffc733'
  #           show_fill: false
  #         - entity: sensor.bed_weight_calibrated_unweighted
  #           name: HA Unweighted
  #           color: '#3366ff'
  #           show_fill: false
  #       hours_to_show: 24
  #       points_per_hour: 5
  #       hour24: true
  #       font_size: 70
  #       height: 250
  #       line_width: 4
  #       show:
  #         labels_secondary: false
  #     - type: custom:mini-graph-card
  #       entities:
  #         - entity: sensor.bedscale_1_calibrated
  #           name: Sensor 1
  #           color: '#ff9933'
  #           show_fill: false
  #         - entity: sensor.bedscale_2_calibrated
  #           name: Sensor 2
  #           color: '#99ff33'
  #           show_fill: false
  #         - entity: sensor.bedscale_3_calibrated
  #           name: Sensor 3
  #           color: '#33ccff'
  #           show_fill: false
  #         - entity: sensor.bedscale_4_calibrated
  #           name: Sensor 4
  #           color: '#cc33ff'
  #           show_fill: false
  #       hours_to_show: 24
  #       points_per_hour: 10
  #       hour24: true
  #       font_size: 70
  #       height: 250
  #       line_width: 4
  #       show:
  #         labels_secondary: false
  #     - type: grid
  #       cards:
  #         - type: button
  #           entity_id: script.tare_all_scales
  #           name: Tare bed scale
  #           icon: mdi:bed-king
  #           tap_action:
  #             action: call-service
  #             service: script.turn_on
  #             service_data:
  #               entity_id: script.tare_all_scales
  #         - type: entity
  #           entity: sensor.people_in_bed
  #         - type: entity
  #           entity: binary_sensor.bed_occupied
  #     - type: glance
  #       entities:
  #         - sensor.bed_weight_balance_leftright
  #         - sensor.bed_weight_balance_updown
  #     - type: entities
  #       title: Bedscale
  #       entities:
  #         - entity: input_number.bedscale1_offset
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale2_offset
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale3_offset
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale4_offset
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale1_sensitivity
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale2_sensitivity
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale3_sensitivity
  #           type: custom:slider-entity-row
  #         - entity: input_number.bedscale4_sensitivity
  #           type: custom:slider-entity-row
  #   type: vertical-stack

  # - type: vertical-stack
  #   cards:
  #     - type: entities
  #       entities:
  #         - entity: input_boolean.low_batteries
  #         - entity: input_number.battery_alert_threshold_min
  #         - entity: input_number.battery_alert_threshold_max
  #         - entity: input_text.delete_battery_sensor
  #         - entity: input_text.notifier_name
  #         - entity: input_select.notifier_format
  #         - entity: automation.battery_persistent_notification
  #         - entity: automation.battery_persistent_notification_clear
  #         - entity: automation.battery_notification_default
  #         - entity: automation.battery_sensor_from_attributes
  #         - entity: automation.update_battery_status_group_members
  #         - entity: automation.delete_battery_sensor
  #       title: Battery Alert Main
  #       show_header_toggle: false
  #     - type: entities
  #       entities:
  #         - entity: group.battery_status
  #         - entity: group.battery_alert
  #         - entity: group.battery_view
  #       title: Battery Alert View
  #       show_header_toggle: false
  # - type: logbook
  #   name: Motion lights
  #   entities:
  #     - automation.bathroom_light_turn_on_light_through_motion
  #     - automation.bedroom_light_gradual_light_automation
  #     - automation.entry_light_turn_on_light_through_motion
  #     - automation.livingroom_light_flux_light_through_motion
  #     - automation.study_lights_turn_on_lights_when_motion_is_detected
  #     - automation.kitchen_lights_turn_on_lights_when_motion_is_detected
  - type: logbook
    name: Lights
    entities:
      - light.bedroom
      - light.kitchen
      - light.study
      - light.entry

  # Phone cards below. All relevant entities can be obtained by using template:
  # {# --- config --- #}
  # {% set integration = 'mobile_app' %}
  # {% set devices = {
  #   'BlokmeisterP9Pro':  'abd9cb44906f74ac0eb677a24e9f84ee',
  #   'BlokmeisterPW3':    '5ba0a2f327e1b8747928327303571a06',
  #   'BlokmeisterTablet': 'b167b7977f2fab1816d3d67861141b93',
  #   'TamaraPhoneP9a':    '0756ef7965075e5d61dd68dd901282f7',
  # } %}

  # {# --- logic --- #}
  # {% set integration_ents = integration_entities(integration) | list %}

  # {% for name, did in devices.items() %}
  # ### {{ name }}
  # {% set dev_ents = device_entities(did) | list %}
  # {% set filtered = dev_ents | select('in', integration_ents) | list %}

  # {{ filtered | sort | join('\n') }}
  # ---
  # {% endfor %}
  # =========================
  # Pixel 9 Pro (BlokmeisterP9Pro)
  # =========================
  - type: custom:collapsable-cards
    title: BlokmeisterP9Pro
    cards:
      - type: map
        #title: BlokmeisterP9Pro
        default_zoom: 15
        hours_to_show: 24
        entities:
          - device_tracker.blokmeisterp9pro

      - type: entities
        title: Connectivity
        show_header_toggle: false
        entities:
          - entity: sensor.blokmeisterp9pro_geocoded_location
            name: Location (decoded)

          - type: section
            label: Wi-Fi
          - entity: binary_sensor.blokmeisterp9pro_wi_fi_state
            name: Wi-Fi enabled
          - entity: sensor.blokmeisterp9pro_wi_fi_connection
            name: Wi-Fi SSID
          - entity: sensor.blokmeisterp9pro_wi_fi_signal_strength
            name: Wi-Fi signal (RSSI)
          - entity: sensor.blokmeisterp9pro_wi_fi_link_speed
            name: Wi-Fi link speed
          - entity: sensor.blokmeisterp9pro_wi_fi_frequency
            name: Wi-Fi frequency
          - entity: sensor.blokmeisterp9pro_wi_fi_ip_address
            name: Wi-Fi IP
          - entity: sensor.blokmeisterp9pro_wi_fi_bssid
            name: Wi-Fi BSSID

          - type: section
            label: Mobile / SIM
          - entity: binary_sensor.blokmeisterp9pro_mobile_data
            name: Mobile data enabled
          - entity: sensor.blokmeisterp9pro_data_network_type_sim_1
            name: Network type (SIM 1)
          - entity: sensor.blokmeisterp9pro_data_network_type_sim_2
            name: Network type (SIM 2)
          - entity: sensor.blokmeisterp9pro_signal_strength_sim_1
            name: Signal strength (SIM 1)
          - entity: sensor.blokmeisterp9pro_signal_strength_sim_2
            name: Signal strength (SIM 2)
          - entity: sensor.blokmeisterp9pro_public_ip_address
            name: Public IP

      - type: entities
        title: Battery
        show_header_toggle: false
        entities:
          - entity: sensor.blokmeisterp9pro_battery_level
            name: Battery level
          - entity: sensor.blokmeisterp9pro_battery_state
            name: Battery state
          - entity: sensor.blokmeisterp9pro_charger_type
            name: Charger type
          - entity: sensor.blokmeisterp9pro_battery_health
            name: Battery health
          - entity: sensor.blokmeisterp9pro_battery_cycle_count
            name: Cycle count

      - type: entities
        title: App status
        show_header_toggle: false
        entities:
          - entity: sensor.blokmeisterp9pro_app_importance
            name: App importance
          - entity: binary_sensor.blokmeisterp9pro_app_inactive
            name: App inactive
          - entity: binary_sensor.blokmeisterp9pro_high_accuracy_mode
            name: High accuracy mode
          - entity: sensor.blokmeisterp9pro_high_accuracy_update_interval
            name: High accuracy interval
          - entity: sensor.blokmeisterp9pro_last_update_trigger
            name: Last update trigger


  # =========================
  # Pixel 9a (TamaraPhoneP9a)
  # =========================
  - type: custom:collapsable-cards
    title: TamaraPhoneP9a
    cards:
      - type: map
        #title: TamaraPhoneP9a (Pixel 9a)
        default_zoom: 15
        hours_to_show: 24
        entities:
          - device_tracker.pixel_9a_3

      - type: entities
        title: Connectivity
        show_header_toggle: false
        entities:
          - entity: sensor.pixel_9a_geocoded_location
            name: Location (decoded)

          - type: section
            label: Wi-Fi
          - entity: binary_sensor.pixel_9a_wi_fi_state
            name: Wi-Fi enabled
          - entity: sensor.pixel_9a_wi_fi_connection
            name: Wi-Fi SSID
          - entity: sensor.pixel_9a_wi_fi_signal_strength
            name: Wi-Fi signal (RSSI)
          - entity: sensor.pixel_9a_wi_fi_link_speed
            name: Wi-Fi link speed
          - entity: sensor.pixel_9a_wi_fi_frequency
            name: Wi-Fi frequency
          - entity: sensor.pixel_9a_wi_fi_ip_address
            name: Wi-Fi IP
          - entity: sensor.pixel_9a_wi_fi_bssid
            name: Wi-Fi BSSID

          - type: section
            label: Mobile / SIM
          - entity: binary_sensor.pixel_9a_mobile_data
            name: Mobile data enabled
          - entity: sensor.pixel_9a_data_network_type_sim_1
            name: Network type (SIM 1)
          - entity: sensor.pixel_9a_network_type
            name: Network type (overall)
          - entity: sensor.pixel_9a_signal_strength_sim_1
            name: Signal strength (SIM 1)
          - entity: sensor.pixel_9a_public_ip_address
            name: Public IP
          - entity: sensor.pixel_9a_ipv6_addresses
            name: IPv6 addresses

      - type: entities
        title: Battery
        show_header_toggle: false
        entities:
          - entity: sensor.pixel_9a_battery_level
            name: Battery level
          - entity: sensor.pixel_9a_battery_state
            name: Battery state
          - entity: sensor.pixel_9a_charger_type
            name: Charger type

      - type: entities
        title: App status
        show_header_toggle: false
        entities:
          - entity: sensor.pixel_9a_app_importance
            name: App importance
          - entity: binary_sensor.pixel_9a_app_inactive
            name: App inactive
          - entity: binary_sensor.pixel_9a_high_accuracy_mode
            name: High accuracy mode
          - entity: sensor.pixel_9a_high_accuracy_update_interval
            name: High accuracy interval
          - entity: sensor.pixel_9a_last_update_trigger
            name: Last update trigger
