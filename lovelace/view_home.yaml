##########################################  HERE BEGINS THE HOME TAB  ##########################################
# Home page should contain:
# Lighting automations toggles
# Quick light toggles for common lights (study/living room/bedroom)
# Quick overview of home assistant status maybe?
# Statement of whether there is garbage collection today or tomorrow
# Maybe power usage today/yesterday in EUR?
# Weather forecast + temperature in home (average/livingroom?)
# Missing entities? Server offline/mediacenter offline?
# Maybe media player status?
title: Home
path: default_view
badges:
  - person.sander_blok
  - person.tamara
cards:
  - type: entity-filter
    state_filter:
      - operator: "!="
        value: None
    entities:
      - entity: sensor.mijnafvalwijzer_afval_achter_tomorrow
      - entity: sensor.mijnafvalwijzer_afval_voor_tomorrow
      - entity: sensor.mijnafvalwijzer_afval_achter_today
      - entity: sensor.mijnafvalwijzer_afval_voor_today
    show_empty: false
  - type: conditional
    conditions:
      - entity: sensor.mijnafvalwijzer_afval_achter_tomorrow
        state: 'None'
      - entity: sensor.mijnafvalwijzer_afval_voor_tomorrow
        state: 'None'
      - entity: sensor.mijnafvalwijzer_afval_achter_today
        state: 'None'
      - entity: sensor.mijnafvalwijzer_afval_voor_today
        state: 'None'
    card:
      type: vertical-stack
      cards:
        - type: entities
          entities:
            - entity: sensor.mijnafvalwijzer_afval_achter_gft
            - entity: sensor.mijnafvalwijzer_afval_achter_papier
            - entity: sensor.mijnafvalwijzer_afval_achter_restafval
            - entity: sensor.mijnafvalwijzer_afval_voor_gft
            - entity: sensor.mijnafvalwijzer_afval_voor_papier
            - entity: sensor.mijnafvalwijzer_afval_voor_restafval
  - entities:
      - entity: device_tracker.rockrobo
      - entity: device_tracker.blitzwolf_coffeeplant
      - entity: device_tracker.blitzwolf_computer
      - entity: device_tracker.blitzwolf_electricblanket
      - entity: device_tracker.blitzwolf_mediacenter
      - entity: device_tracker.blitzwolf_nuc
      - entity: device_tracker.blitzwolf_watercooker
      - entity: device_tracker.shelly_bathroom_2
      - entity: device_tracker.shelly_bedroom
      - entity: device_tracker.shelly_closet
      - entity: device_tracker.shelly_dinnertable
      - entity: device_tracker.shelly_entry
      - entity: device_tracker.shelly_hallway
      - entity: device_tracker.shelly_kitchen
      - entity: device_tracker.shelly_study
      - entity: device_tracker.shelly_tv
      - entity: device_tracker.xiaomi_gateway
      - entity: device_tracker.blokmeisternuc
      - entity: device_tracker.google_home_mini
      - entity: device_tracker.ledstrip_bed
      - entity: device_tracker.p1mon
      - entity: device_tracker.raspberrypi_2
      - entity: device_tracker.tado
      - entity: device_tracker.transmission
      - entity: device_tracker.blokmeisternas
      - entity: device_tracker.blokmeisters21u
    title: Devices missing
    type: entity-filter
    show_empty: false
    state_filter:
      - operator: "!="
        value: home
  - entities:
      - entity: device_tracker.rockrobo
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_coffeeplant
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_computer
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_electricblanket
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_mediacenter
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_nuc
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blitzwolf_watercooker
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_bathroom_2
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_bedroom
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_closet
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_dinnertable
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_entry
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_hallway
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_kitchen
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_study
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.shelly_tv
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.xiaomi_gateway
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blokmeisternuc
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.google_home_mini
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.ledstrip_bed
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.raspberrypi
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.raspberrypi_2
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.tado
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.transmission
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blokmeisternas
        secondary_info: last-changed
        show_last_changed: true
      - entity: device_tracker.blokmeisters21u
        secondary_info: last-changed
        show_last_changed: true
    type: entity-filter
    show_empty: false
    state_filter:
      - operator: "!="
        value: home
    card:
      type: glance
  - entity: media_player.living_room_speaker
    type: media-control
  - type: map
    aspect_ratio: 16:10
    default_zoom: 12
    hours_to_show: 168
    entities:
      - person.sander_blok
  # - cards:
  #     - type: custom:xiaomi-vacuum-map-card
  #       title: Argus
  #       preset_name: Live map
  #       entity: vacuum.argus
  #       map_source:
  #         camera: camera.argus_map
  #       calibration_source:
  #         camera: true
  #       debug: true

  #     - type: custom:xiaomi-vacuum-map-card
  #       title: Consuela
  #       preset_name: Live map
  #       entity: vacuum.roborock_vacuum_s5
  #       map_source:
  #         camera: camera.consuela_map
  #       calibration_source:
  #         camera: true
  #       debug: true

  #     - type: custom:xiaomi-vacuum-map-card
  #       title: Alfred
  #       preset_name: Live map
  #       entity: vacuum.alfred
  #       map_source:
  #         camera: camera.alfred_map
  #       calibration_source:
  #         camera: true
  #       debug: true
  #     - type: glance
  #       title: Clean Areas
  #       columns: 4
  #       entities:
  #         - entity: script.vacuum_entry_twice
  #           icon: mdi:door
  #           name: Entry
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_entry_twice
  #         - entity: script.vacuum_kitchen_twice
  #           icon: mdi:fridge-outline
  #           name: Kitchen
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_kitchen_twice
  #         - entity: script.vacuum_livingroom_twice
  #           icon: mdi:table-chair
  #           name: Living Room
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_livingroom_twice

  #         - entity: script.vacuum_bedroom_twice
  #           icon: mdi:bed-double
  #           name: Bedroom
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_bedroom_twice
  #         - entity: script.vacuum_bathroom_twice
  #           icon: mdi:shower
  #           name: Bathroom
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_bathroom_twice

  #         - entity: script.vacuum_study_twice
  #           icon: mdi:desktop-tower-monitor
  #           name: Study
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_study_twice
  #         - entity: script.vacuum_guestroom_twice
  #           icon: mdi:bed
  #           name: Guest Room
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_guestroom_twice
  #         - entity: script.vacuum_washroom_twice
  #           icon: mdi:tumble-dryer
  #           name: Wash Room
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_washroom_twice
  #         - entity: script.vacuum_tamarasroom_twice
  #           icon: mdi:face-woman
  #           name: Tamara's Room
  #           tap_action:
  #             action: call-service
  #             service: script.vacuum_tamarasroom_twice

  #         - entity: script.alfred_goto_hallway
  #           icon: 'mdi:robot-vacuum'
  #           name: Empty Alfred
  #           tap_action:
  #             action: call-service
  #             service: automation.trigger
  #             service_data:
  #               entity_id: automation.home_vacuum_drive_alfred_to_hallway_when_dust_bin_is_full
  #               skip_condition: true
  #         - entity: script.consuela_goto_hallway
  #           icon: 'mdi:robot-vacuum'
  #           name: Empty Consuela
  #           tap_action:
  #             action: call-service
  #             service: automation.trigger
  #             service_data:
  #               entity_id: automation.home_vacuum_drive_consuela_to_hallway_when_dust_bin_is_full
  #               skip_condition: true
  #         - entity: script.argus_goto_kitchen
  #           icon: 'mdi:robot-vacuum'
  #           name: Empty Argus
  #           tap_action:
  #             action: call-service
  #             service: automation.trigger
  #             service_data:
  #               entity_id: automation.home_vacuum_drive_argus_to_hallway_when_dust_bin_is_full
  #               skip_condition: true
  #       show_icon: true
  #       show_name: true
  #       show_state: false
  #     - entities:
  #         - entity: sensor.consuela_area_cleaned_today
  #           name: Consuela Cleaned Today
  #         - entity: sensor.consuela_area_cleaned_since_last_empty_bin
  #           name: Consuela Dust Collected
  #         - entity: sensor.argus_area_cleaned_today
  #           name: Argus Cleaned Today
  #         - entity: sensor.argus_area_cleaned_since_last_empty_bin
  #           name: Argus Dust Collected
  #         - entity: sensor.alfred_area_cleaned_today
  #           name: Alfred Cleaned Today
  #         - entity: sensor.alfred_area_cleaned_since_last_empty_bin
  #           name: Alfred Dust Collected
  #         - entity: input_boolean.vacation_mode
  #       type: entities
  #   type: vertical-stack
  - cards:
      # Unfortunately I need two cards since the conditional card does not support filtering multiple states. I want a media player to show when it's either playing or paused.
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_for_windows_blokmeisterlap
            state: "playing"
        card:
          type: media-control
          entity: media_player.plex_plex_for_windows_blokmeisterlap
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_for_windows_blokmeisterlap
            state: "paused"
        card:
          type: media-control
          entity: media_player.plex_plex_for_windows_blokmeisterlap
      - type: conditional
        conditions:
          - entity: media_player.plex_plexkodiconnect_kodi_coreelec
            state: "playing"
        card:
          type: media-control
          entity: media_player.plex_plexkodiconnect_kodi_coreelec
      - type: conditional
        conditions:
          - entity: media_player.plex_plexkodiconnect_kodi_coreelec
            state: "paused"
        card:
          type: media-control
          entity: media_player.plex_plexkodiconnect_kodi_coreelec
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_for_android_mobile_blokmeisters21u
            state: "playing"
        card:
          type: media-control
          entity: media_player.plex_plex_for_android_mobile_blokmeisters21u
      - type: conditional
        conditions:
          - entity: media_player.plex_plex_for_android_mobile_blokmeisters21u
            state: "paused"
        card:
          type: media-control
          entity: media_player.plex_plex_for_android_mobile_blokmeisters21u
    type: vertical-stack
