homeassistant:
  customize_glob:
    sensor.*elec_*_temp:
      device_class: 'temperature'
      unit_of_measurement: '°C'
      templates:
        icon_color: >-
          var maxval = 60;
          var minval = 30;
          var maxhue = 0;
          var minhue = 140;
          if (state > maxval) return 'hsl(' + maxhue.toString() + ',80%,50%)';
          if (state < minval) return 'hsl(' + minhue.toString() + ',80%,50%)';
          var hue = Math.round((Number(state) - minval) / (maxval - minval) * (maxhue - minhue) + minhue );
          return 'hsl(' + hue.toString() + ',80%,50%)';

media_player:
  # - platform: kodi
  #   host: 192.168.1.50
  #   name: CoreELEC
  #   # username: !secret coreelec_user
  #   # password: !secret coreelec_pass
  #   turn_on_action:
  #     service: media_player.kodi_call_method
  #     data:
  #       entity_id: media_player.kodi
  #       method: Addons.ExecuteAddon
  #       addonid: script.json-cec
  #       params:
  #         command: activate
  #   turn_off_action:
  #   - service: media_player.media_stop
  #     data:
  #       entity_id: media_player.kodi
  #   - service: media_player.kodi_call_method
  #     data:
  #       entity_id: media_player.kodi
  #       method: Addons.ExecuteAddon
  #       addonid: script.json-cec
  #       params:
  #         command: standby
  # - platform: kodi
  #   host: 192.168.1.51
  #   name: Ambilight_RPI

#################
#    SENSORS    #
#################
sensor:
  - platform: tautulli
    api_key: !secret tautulli_api_key
    host: 192.168.1.252

  - platform: command_line
    name: 'CoreELEC CPU temp'
    unit_of_measurement: '°C'
    scan_interval: 60
    command: >-
      ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no -q
      root@192.168.1.50
      cputemp | awk '{print $1}'

  - platform: command_line
    name: 'CoreELEC GPU temp'
    unit_of_measurement: '°C'
    scan_interval: 60
    command: >-
      ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no -q
      root@192.168.1.50
      gputemp | awk '{print $1}'

  - platform: command_line
    name: 'LibreELEC CPU temp'
    unit_of_measurement: '°C'
    scan_interval: 60
    command: >-
      ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no -q
      root@192.168.1.51
      cputemp | awk '{print $1}'

  - platform: command_line
    name: 'LibreELEC GPU temp'
    unit_of_measurement: '°C'
    scan_interval: 60
    command: >-
      ssh -i /config/.ssh/id_rsa -o StrictHostKeyChecking=no -q
      root@192.168.1.51
      gputemp | awk '{print $1}'
########################
#    BINARY SENSORS    #
########################
binary_sensor:
  - platform: template
    sensors:
      mediacenter_on:
        device_class: power
        value_template: >-
          {{
            states.sensor.blitzwolf_mediacenter_energy_power.state|float > 200
          }}
##################
#    SWITCHES    #
##################
switch:

#####################
#    AUTOMATIONS    #
#####################
automation:

################
#    SCENES    #
################
scene:

################
#    GROUPS    #
################
group:

#################
#    SCRIPTS    #
#################
script:

################
#    LIGHTS    #
################
light: